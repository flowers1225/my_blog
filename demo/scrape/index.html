<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
	<title>Document</title>
	<style type="text/css">
		html,body{
			margin:0;
			padding:0;
			width: 100%;
			height: 100%;
		}
		.m-canvas-erasure {
			position: relative;
			width: 100%;
			height: 100%;
		}
		.m-canvas-erasure .bg {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 1;
		}
		.m-canvas-erasure .bg img {
			display: block;
			width: 100%;
			height: 100%;
		}
		.m-canvas-erasure .load{
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: #000;
			display: -webkit-box;
			-webkit-box-pack: center;
			-webkit-box-align: center;
			z-index:2;
		}
		.m-canvas-erasure .load .inner{
			width:42px;
		    height:42px;
		    background: url(img/load.png);
		    background-size: 42px 42px;
		    animation: spinner 1s linear infinite;
		    -webkit-animation: spinner 1s linear infinite;
		}
		@-webkit-keyframes spinner {
		    from {
		        -webkit-transform: rotate(0deg)
		    }
		    to {
		        -webkit-transform: rotate(360deg)
		    }
		}
		.btn{
			width: 100px;
			height: 50px;
			margin-top: 10px;
			margin-left: 10px;
			line-height: 50px;
			text-align: center;
			border:1px solid red;
		}
	</style>
</head>
<body>
	<div class="m-canvas-erasure">
		<div class="bg">
			<img src="img/a2cc7cd98d1001e95af73797ba0e7bec55e7975a.jpg" alt="">
		</div>
		<div class="load">
			<div class="inner"></div>
		</div>
	</div>
	
	<!-- <div class="btn" id="J_btn_clear">清除</div> -->

	<script type="text/javascript" src="js/zepto.min.js"></script>
	<script type="text/javascript" src="js/TD.js"></script>
	<script type="text/javascript">
		var imgObj = new Image();
			imgObj.src = 'img/scrape_2.jpg';

		var erasure = new TD.erasure($('.m-canvas-erasure'),{
			//img/scrape_2.jpg
			//#f0f
			//rgba(7, 246, 74, 1)
			cover: 'img/f636afc379310a555214fc6cb54543a982261071.jpg', //url，十六进制，rgba
			lineWidth: 60,
			percent: 30,
			callback: function(){
				console.log('成功');
			 },
			loadback:function(){
				$('.load').remove();
			}
		});

		$(window).on('resize', erasure.upData);
		// $('#J_btn_clear').on('click',function(e){
		// 	erasure.destroy();
		// });
		
		console.log(erasure);
	</script>
</body>
</html>